<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE> </TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 3.2  (Win32)">
	<META NAME="AUTHOR" CONTENT="S&eacute;bastien G&eacute;rard">
	<META NAME="CREATED" CONTENT="20100507;12382200">
	<META NAME="CHANGED" CONTENT="20110110;14571100">
	<META NAME="Info 1" CONTENT="">
	<META NAME="Info 2" CONTENT="">
	<META NAME="Info 3" CONTENT="">
	<META NAME="Info 4" CONTENT="">
	<STYLE TYPE="text/css">
	<!--
		@page { margin-left: 2.5cm; margin-right: 1.5cm; margin-top: 1.25cm; margin-bottom: 1.25cm }
		P { margin-bottom: 0.21cm; direction: ltr; color: #000000; text-align: justify; widows: 2; orphans: 2 }
		P.western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		P.cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		P.ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA }
		H1 { margin-top: 0cm; margin-bottom: 0.42cm; background: #cccccc; border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding: 0.04cm 0cm; direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2; page-break-before: always; page-break-after: auto }
		H1.western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		H1.cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		H1.ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA; font-weight: normal }
		H2 { margin-left: -0.5cm; margin-bottom: 0.42cm; background: transparent; border-top: 1px solid #000000; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding: 0.04cm 0cm; direction: ltr; color: #000000; text-align: left; widows: 2; orphans: 2; page-break-before: auto; page-break-after: auto }
		H2.western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		H2.cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		H2.ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA; font-weight: normal }
		TD P { margin-bottom: 0.21cm; direction: ltr; color: #000000; text-align: justify; widows: 2; orphans: 2 }
		TD P.western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		TD P.cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		TD P.ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA }
		P.contenu-du-cadre-western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		P.contenu-du-cadre-cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		P.contenu-du-cadre-ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA }
		H1.heading+no-numbering+new-page-western { font-family: "Arial", sans-serif; font-size: 11pt; so-language: en-US }
		H1.heading+no-numbering+new-page-cjk { font-family: "Times New Roman", serif; font-size: 11pt }
		H1.heading+no-numbering+new-page-ctl { font-family: "Times New Roman", serif; font-size: 10pt; so-language: ar-SA; font-weight: normal }
		A:link { color: #0000ff }
		A.sdfootnotesym-western { font-size: 8pt }
		A.sdfootnotesym-cjk { font-size: 8pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="fr-FR" TEXT="#000000" LINK="#0000ff" DIR="LTR">
<DIV TYPE=HEADER>
	<P LANG="en-GB" CLASS="western" STYLE="margin-top: 0.21cm; margin-bottom: 1.15cm; border-top: none; border-bottom: 1px solid #000000; border-left: none; border-right: none; padding-top: 0cm; padding-bottom: 0.04cm; padding-left: 0cm; padding-right: 0cm">
	<IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m1e24f929.gif" NAME="images1" ALIGN=LEFT WIDTH=16 HEIGHT=16 BORDER=0><BR CLEAR=LEFT><B>	Tutorial
	on embedding Xtext editors inside Papyrus diagrams				Version 0.6</B></P>
</DIV>
<TABLE WIDTH=648 BORDER=0 CELLPADDING=6 CELLSPACING=0 STYLE="page-break-before: always">
	<COL WIDTH=636>
	<TR>
		<TD WIDTH=636 HEIGHT=105 VALIGN=TOP>
			<P LANG="zxx" CLASS="western" ALIGN=CENTER><BR><BR>
			</P>
			<P LANG="en-US" ALIGN=CENTER><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m6e3b81b8.png" NAME="images3" ALIGN=LEFT WIDTH=131 HEIGHT=68 BORDER=0><BR CLEAR=LEFT><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m15dd1f70.gif" NAME="Image15" ALIGN=LEFT WIDTH=102 HEIGHT=102 BORDER=0><BR CLEAR=LEFT><BR>
			</P>
		</TD>
	</TR>
</TABLE>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><FONT SIZE=5><B>Papyrus
Tutorial:</B></FONT></P>
<P LANG="en-US" CLASS="western" ALIGN=CENTER><FONT SIZE=5><B>How to
embed an Xtext editor inside a  Papyrus diagram</B></FONT></P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<TABLE WIDTH=643 BORDER=0 CELLPADDING=7 CELLSPACING=0>
	<COL WIDTH=175>
	<COL WIDTH=440>
	<TR VALIGN=TOP>
		<TD WIDTH=175>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Editor</P>
		</TD>
		<TD WIDTH=440>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Saadia
			DHOUIB, Arnaud CUCCURU, Vincent LORENZO - CEA LIST</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=175>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Status</P>
		</TD>
		<TD WIDTH=440>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Production</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=175>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Version
			number</P>
		</TD>
		<TD WIDTH=440>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">0.4</P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=175>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">Date of
			preparation</P>
		</TD>
		<TD WIDTH=440>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm">2010-07-08</P>
		</TD>
	</TR>
</TABLE>
<H1 LANG="en-US" CLASS="heading+no-numbering+new-page-western">Authors</H1>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<TABLE WIDTH=643 BORDER=0 CELLPADDING=7 CELLSPACING=0>
	<COL WIDTH=230>
	<COL WIDTH=124>
	<COL WIDTH=188>
	<COL WIDTH=45>
	<TR VALIGN=TOP>
		<TD WIDTH=230 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Authors name (first/last name)</B></P>
		</TD>
		<TD WIDTH=124 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Company</B></P>
		</TD>
		<TD WIDTH=188 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>E-mail</B></P>
		</TD>
		<TD WIDTH=45 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Initial</B></P>
		</TD>
	</TR>
	<TR VALIGN=BOTTOM>
		<TD WIDTH=230>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Saadia DHOUIB</FONT></FONT></P>
		</TD>
		<TD WIDTH=124>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>CEA LIST</FONT></FONT></P>
		</TD>
		<TD WIDTH=188>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2><A HREF="mailto:Sebastien.gerard@cea.fr">Saadia.dhouib@cea.fr</A></FONT></FONT></P>
		</TD>
		<TD WIDTH=45>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm">SD</P>
		</TD>
	</TR>
	<TR VALIGN=BOTTOM>
		<TD WIDTH=230>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Arnaud CUCCURU</FONT></FONT></P>
		</TD>
		<TD WIDTH=124>
			<P LANG="zxx" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>CEA LIST</FONT></FONT></P>
		</TD>
		<TD WIDTH=188>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2><A HREF="mailto:arnaud.cuccuru@cea.fr">arnaud.cuccuru@cea.fr</A>
			</FONT></FONT>
			</P>
		</TD>
		<TD WIDTH=45>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm">AC</P>
		</TD>
	</TR>
</TABLE>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<H1 LANG="en-US" CLASS="heading+no-numbering+new-page-western">Revision
chart and history log</H1>
<TABLE WIDTH=636 BORDER=0 CELLPADDING=7 CELLSPACING=0>
	<COL WIDTH=62>
	<COL WIDTH=83>
	<COL WIDTH=449>
	<TR VALIGN=TOP>
		<TD WIDTH=62 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Version </B>
			</P>
		</TD>
		<TD WIDTH=83 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Date</B></P>
		</TD>
		<TD WIDTH=449 BGCOLOR="#ffff99">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.2cm; background: #ffff99">
			<B>Reasons</B></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.1</FONT></FONT></P>
		</TD>
		<TD WIDTH=83>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>18/05/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Initial contribution.</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.2</FONT></FONT></P>
		</TD>
		<TD WIDTH=83>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>03/06/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Sections 1, 2, 3
			finished</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.3</FONT></FONT></P>
		</TD>
		<TD WIDTH=83>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>04/06/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Section 4, 5 finished</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.4</FONT></FONT></P>
		</TD>
		<TD WIDTH=83>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>08/07/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Modified section 1,
			Moved 3.2.e (extending the directEditors extension point) to
			section 5,  cosmectic/english modifications</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.5</FONT></FONT></P>
		</TD>
		<TD WIDTH=83>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>12/07/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Section 5 modified,
			papyrus icon changed (p1)</FONT></FONT></P>
		</TD>
	</TR>
	<TR VALIGN=TOP>
		<TD WIDTH=62>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>0.6</FONT></FONT></P>
		</TD>
		<TD WIDTH=83 SDVAL="40188" SDNUM="1036;0;JJ/MM/AA">
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>10/01/10</FONT></FONT></P>
		</TD>
		<TD WIDTH=449>
			<P LANG="en-US" CLASS="western" STYLE="margin-top: 0.1cm; font-weight: normal">
			<FONT FACE="Arial, sans-serif"><FONT SIZE=2>Adds Section 6 : Code
			enhancements</FONT></FONT></P>
		</TD>
	</TR>
</TABLE>
<H1 LANG="en-US" CLASS="heading+no-numbering+new-page-western">Table
of contents</H1>
<DIV ID="Table des mati&egrave;res1" DIR="LTR">
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm">  <FONT SIZE=2>Authors	2</FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm">  <FONT SIZE=2>Revision
	chart and history log	3</FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm">  <FONT SIZE=2>Table
	of contents	4</FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#1.Introduction|outline">1
	 Introduction	5</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#2.How to install eclipse Xtext bundle for Papyrus development|outline">2
	 How to install eclipse Xtext bundle for Papyrus development	6</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#3.Create and configure your Xtext project|outline">3
	 Create and configure your Xtext project	8</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-left: 0.39cm; margin-top: 0.21cm; margin-bottom: 0cm">
	<FONT SIZE=2><A HREF="#3.1. Create an Xtext project|outline">3.1 
	Create an Xtext project	8</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-left: 0.39cm; margin-top: 0.21cm; margin-bottom: 0cm">
	<FONT SIZE=2><A HREF="#3.2. Configure the Xtext project for using UML models|outline">3.2
	 Configure the Xtext project for using UML models	11</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#4.Build your own grammar|outline">4
	 Build your own grammar	17</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#5.Create your Xtext pop up editor |outline">5
	 Create your Xtext pop up editor 	19</A></FONT></P>
	<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><FONT SIZE=2><A HREF="#6.References|outline">6
	 References	23</A></FONT></P>
</DIV>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<OL>
	<LI VALUE=1><H1 LANG="en-US" CLASS="western"><A NAME="1.Introduction|outline"></A>
	Introduction</H1>
</OL>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY>Xtext is a framework
for the development of domain-specific languages and other textual
programming languages. It is tightly integrated with the Eclipse
Modeling Framework (EMF) and leverages the Eclipse Platform in order
to provide a language-specific integrated development environment
(IDE). 
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY>The purpose of this
document is to provide a tutorial for Papyrus users and developers,
explaining the followings: 
</P>
<UL>
	<UL>
		<LI><P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY> how to install
		and configure the xtext eclipse bundle for papyrus development</P>
		<LI><P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY> how to create
		and configure an xtext project</P>
		<LI><P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY> how to build an
		xtext grammar</P>
		<LI><P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY> how to develop
		an xtext editor integrated in a papyrus UML diagram</P>
	</UL>
</UL>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><BR><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><BR><BR>
</P>
<P LANG="en-GB" CLASS="western" ALIGN=JUSTIFY><BR><BR>
</P>
<OL START=2>
	<LI><H1 LANG="en-US" CLASS="western"><A NAME="2.How to install eclipse Xtext bundle for Papyrus development|outline"></A>
	How to install eclipse Xtext bundle for Papyrus development</H1>
</OL>
<OL>
	<LI><P LANG="en-US" CLASS="western"> Install the latest version of
	Eclipse Helios. 
	</P>
	<LI><P LANG="en-US" CLASS="western"> In order to install Papyrus and
	Xtext, go to the menu: <B>Help -&gt; Install Modeling Component</B>.
	Then select Papyrus and Xtext, and press Finish.</P>
</OL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre18" DIR="LTR" STYLE="float: left; width: 16.36cm; height: 12.54cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_556ade7.gif" NAME="Image1" ALIGN=LEFT WIDTH=477 HEIGHT=553 BORDER=0><BR CLEAR=LEFT><BR><BR>
	</P>
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><B>Figure 1: Papyrus and
	Xtext installation</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P LANG="en-GB" CLASS="western" STYLE="font-weight: normal; text-decoration: none">
<BR><BR>
</P>
<OL START=3>
	<LI><H1 LANG="en-US" CLASS="western"><A NAME="3.Create and configure your Xtext project|outline"></A>
	Create and configure your Xtext project</H1>
	<OL>
		<LI><H2 LANG="en-US" CLASS="western"><A NAME="3.1. Create an Xtext project|outline"></A>
		 Create an Xtext project</H2>
	</OL>
</OL>
<OL TYPE=a>
	<LI><P LANG="en-US" CLASS="western">Use the Xtext wizard to create a
	new project: <EM>File -&gt; New -&gt; Project... -&gt; Xtext -&gt;
	Xtext project</EM> (cf. Figure 2)</P>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre1" DIR="LTR" STYLE="float: left; width: 13.23cm; height: 13.23cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_79503f82.png" NAME="Image2" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	2: Choose Xtext wizard</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=2>
	<LI><P LANG="en-US" CLASS="western"><A NAME="N1008A"></A>Choose a
	meaningful project name, language name and file extension, e.g. 
	</P>
</OL>
<TABLE WIDTH=523 BORDER=0 CELLPADDING=2 CELLSPACING=0>
	<COL WIDTH=145>
	<COL WIDTH=370>
	<TR>
		<TD WIDTH=145>
			<P LANG="en-US" CLASS="western"><STRONG>Main project name:</STRONG>
						</P>
		</TD>
		<TD WIDTH=370>
			<P LANG="en-US" CLASS="western">org.eclipse.papyrus.message.editor.xtext</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=145>
			<P LANG="en-US" CLASS="western"><STRONG>Language name:</STRONG> 
			</P>
		</TD>
		<TD WIDTH=370>
			<P LANG="en-US" CLASS="western">org.eclipse.papyrus.message.editor.xtext.UmlMessage</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=145>
			<P LANG="en-US" CLASS="western"><STRONG>DSL-File extension:</STRONG>
						</P>
		</TD>
		<TD WIDTH=370>
			<P LANG="en-US" CLASS="western">umlmessage</P>
		</TD>
	</TR>
</TABLE>
<P LANG="en-US" CLASS="western">Keep &ldquo;Create generator project&rdquo;
checked, as we will also create a code generator in a second step
(cf. Figure 3). Click on <EM>Finish</EM> to create the projects.</P>
<P LANG="en-US" CLASS="western">By convention, the following naming
pattern is followed:</P>
<UL>
	<LI><P LANG="en-US" CLASS="western">Project name:
	'org.eclipse.papyrus' &lt;<U>k</U>ind of the element to be edited&gt;
	'editor.xtext'</P>
	<LI><P LANG="en-US" CLASS="western">Language name: &lt;Project name&gt;
	'Uml' &lt;<U>K</U>ind of the element to be edited&gt;</P>
	<LI><P LANG="en-US" CLASS="western">DSL-File extension: 'uml' &lt;<U>k</U>ind
	of the element to be edited&gt;</P>
</UL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre2" DIR="LTR" STYLE="float: left; width: 13.23cm; height: 14.02cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m2b708589.png" NAME="Image3" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	3: Create new xtext project</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P LANG="en-US" CLASS="western">Figure 3 provides an example related
to the creation of a textual editor for Messages, in the context of
communication diagrams.</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<OL TYPE=a START=3>
	<LI><P LANG="en-US" CLASS="western"><B>Project Layout: </B>
	</P>
	<P LANG="en-US" CLASS="western">In the Package Explorer you can see
	three new projects (cf. Figure 4). In
	<CODE>org.eclipse.papyrus.message.editor.xtext</CODE> you can define
	the grammar and configure the runtime aspects of your language. The
	editor, outline view and code completion goes into
	<CODE>org.eclipse.papyrus.message.editor.xtext.ui</CODE>. Both
	projects consist of generated classes derived from your grammar and
	manual code such as the grammar itself or further classes to
	differentiate from the default behavior. 
	</P>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre3" DIR="LTR" STYLE="float: left; width: 15.31cm; height: 9.13cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_55ff396d.jpg" NAME="Image4" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	4: Xtext project layout</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=3>
	<P LANG="en-US" CLASS="western">It is good to be clear and
	unambiguous whether the code is generated or is to be manipulated by
	the developer. Thus, the generated code should be held separately
	from the manual code. We follow this pattern by having a folder src/
	and a folder src-gen/ in each project. Keep in mind not to make
	changes in the src-gen/ folder. They will be overwritten by the
	generator. 
	</P>
	<LI><P LANG="en-US" CLASS="western">Build the generated sample
	grammar: The wizard will automatically open the example grammar file
	<CODE>UmlMessage.xtext</CODE> from the first project in the editor.
	We will test the generation of the language artifacts. To do this,
	locate the file GenerateUmlMessage.mwe next to the grammar file in
	the package explorer view (cf. Figure 5). From its context menu,
	choose <EM>Run As -&gt; MWE Workflow</EM>. That will trigger the
	Xtext language generator. You will see its logging messages in the
	Console view. No errors should appear in the Console view. The
	purpose of this step is to obtain the file plugin.xml that will be
	modified in the next step.</P>
</OL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre4" DIR="LTR" STYLE="float: left; width: 13.76cm; height: 14.76cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_281a152c.png" NAME="Image5" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	5: Generate language artifacts</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<OL>
	<OL>
		<LI><H2 LANG="en-US" CLASS="western"><A NAME="3.2. Configure the Xtext project for using UML models|outline"></A>
		 Configure the Xtext project for using UML models</H2>
	</OL>
</OL>
<OL TYPE=a>
	<P LANG="en-US" CLASS="western">Papyrus projects are based on UML2
	models. To combine the xtext defined grammar with the existing UML2
	model, it is necessary to do the following steps:</P>
	<LI><P LANG="en-US" CLASS="western">The first thing we have to do is
	to add two additional dependencies to the eclipse xtext project
	(org.eclipse.papyrus.message.editor.xtext) :</P>
	<UL>
		<LI><P LANG="en-US" CLASS="western"> org.eclipse.uml2.codegen.ecore
		(1.0.6)</P>
		<LI><P LANG="en-US" CLASS="western">org.eclipse.uml2.uml (3.1.0)</P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western">	To do this, open the file plugin.xml
(generated previously) and add the aforementioned 	dependencies (cf.
Figure 6).</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre5" DIR="LTR" STYLE="float: left; width: 14.37cm; height: 10.78cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m3a39bbab.png" NAME="Image6" ALIGN=LEFT WIDTH=487 HEIGHT=438 BORDER=0><BR CLEAR=LEFT><B>Figure
	6: Adding plugin dependencies</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=2>
	<LI><P LANG="en-US" CLASS="western">The models are integrated in the
	eclipse environment. For a standalone usage they have to be copied
	to the xtext project. Add a new folder &ldquo;model&rdquo; and add
	the following model files to it (cf. Figure 7):</P>
	<UL>
		<LI><P LANG="en-US" CLASS="western">UML.genmodel</P>
		<LI><P LANG="en-US" CLASS="western">UML.ecore</P>
		<LI><P LANG="en-US" CLASS="western">Ecore.ecore</P>
		<LI><P LANG="en-US" CLASS="western">Ecore.genmodel</P>
		<P LANG="en-US" CLASS="western"></P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre6" DIR="LTR" STYLE="float: left; width: 10.42cm; height: 10.93cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_mba499f0.png" NAME="Image7" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	7: Add files to model folder</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=3>
	<LI><P LANG="en-US" CLASS="western">The grammar must gain knowledge
	about the UML2 metamodel. This can be done with the following import
	in the UmlMessage.xtext grammar file: 
	</P>
	<P LANG="en-US" CLASS="western"><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#7f0055"><B>import</B></FONT><FONT COLOR="#000000">
	</FONT><FONT COLOR="#2a00ff">&quot;http://www.eclipse.org/uml2/3.0.0/UML&quot;</FONT><FONT COLOR="#000000">
	</FONT><FONT COLOR="#7f0055"><B>as</B></FONT><FONT COLOR="#000000">
	uml</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Figure
	8 illustrates this import.</FONT></FONT></P>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre7" DIR="LTR" STYLE="float: left; width: 12.57cm; height: 1.85cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m11aa8a4d.png" NAME="Image8" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	8: import UML2 metamodel in the xtext grammar file</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=3>
	<P LANG="en-US" CLASS="western"><FONT COLOR="#000000">With the alias
	</FONT><FONT COLOR="#000000"><FONT FACE="Times New Roman, serif"><I>uml
	</I></FONT></FONT><FONT COLOR="#000000"><SPAN STYLE="font-style: normal">the
	UML2 model elements can be used in the grammar, such as shown below:</SPAN></FONT></P>
	<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><SPAN ID="Cadre9" DIR="LTR" STYLE="float: left; width: 13.24cm; height: 1.38cm; border: none; padding: 0cm; background: #ffffff">
		<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>NameRule:	</FONT></FONT></P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#000000">	name=ID
		</FONT><FONT COLOR="#2a00ff">':'</FONT><FONT COLOR="#000000">
		((type=[</FONT><FONT COLOR="#000000"><I>uml::Classifier</I></FONT><FONT COLOR="#000000">])
		| </FONT><FONT COLOR="#2a00ff">&quot;&lt;Undefined&gt;&quot;</FONT><FONT COLOR="#000000">)</FONT></FONT></FONT></P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>	</FONT></FONT></P>
	</SPAN>
	</P>
</OL>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<OL TYPE=a START=4>
	<P LANG="en-US" CLASS="western">In this example, the statement
	&ldquo;type=[uml::Classifier]&rdquo; specifies that the property
	&ldquo;type&rdquo; of rule &ldquo;NameRule&rdquo; is used to specify
	a reference to an existing UML Classifier. By specifying this kind
	of rule, the Xtext framework is able to generate tools for
	completion, content assist and cross references to Classifiers
	available in the Scope of the rule.</P>
	<LI><P LANG="en-US" CLASS="western">Modify the
	GenerateUmlMessage.mwe2 file:</P>
</OL>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western">The packages &ldquo;UMLPackage&rdquo;
		and &ldquo;GenModelPackage&rdquo; have to be setup. This allows the
		generator to resolve the uris. The original uri references point to
		the plugins environment, so a uri mapping helps the generator. You
		have to add the following code in the GenerateUmlMessage.mwe2 file:</P>
		<P LANG="en-US" CLASS="western"></P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre10" DIR="LTR" STYLE="float: left; width: 16.71cm; height: 7.57cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#0000c0">bean</FONT><FONT COLOR="#000000">
	= StandaloneSetup {</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">platformUri</FONT><FONT COLOR="#000000">
	= </FONT><FONT COLOR="#2a00ff">&quot;</FONT><FONT COLOR="#e33722"><B>${</B></FONT><FONT COLOR="#e33722"><I><B>runtimeProject</B></I></FONT><FONT COLOR="#e33722"><B>}</B></FONT><FONT COLOR="#2a00ff">/..&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">registerGeneratedEPackage</FONT><FONT COLOR="#000000">
	= </FONT><FONT COLOR="#2a00ff">&quot;org.eclipse.uml2.uml.UMLPackage&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">registerGeneratedEPackage</FONT><FONT COLOR="#000000">
	= </FONT><FONT COLOR="#2a00ff">&quot;org.eclipse.uml2.codegen.ecore.genmodel.GenModelPackage&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">uriMap</FONT><FONT COLOR="#000000">
	= {</FONT><FONT COLOR="#0000c0">from</FONT><FONT COLOR="#000000">=</FONT><FONT COLOR="#2a00ff">&quot;platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore&quot;</FONT><FONT COLOR="#000000">
	</FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">				</FONT><FONT COLOR="#0000c0">to</FONT><FONT COLOR="#000000">=</FONT><FONT COLOR="#2a00ff">&quot;platform:/resource/org.eclipse.papyrus.message.editor.xtext/model/Ecore.ecore&quot;</FONT><FONT COLOR="#000000">}</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">		</FONT><FONT COLOR="#0000c0">uriMap</FONT><FONT COLOR="#000000">
	=
	{</FONT><FONT COLOR="#0000c0">from</FONT><FONT COLOR="#000000">=</FONT><FONT COLOR="#2a00ff">&quot;platform:/plugin/org.eclipse.emf.ecore/model/Ecore.genmodel&quot;</FONT><FONT COLOR="#000000">
	</FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT COLOR="#000000"> 
	<FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">				</FONT><FONT COLOR="#0000c0">to</FONT><FONT COLOR="#000000">=</FONT><FONT COLOR="#2a00ff">&quot;platform:/resource/org.eclipse.papyrus.message.editor.xtext/model/Ecore.genmodel&quot;</FONT><FONT COLOR="#000000">}</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">	}</FONT></FONT></P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western">	Figure 9 shows the exact place where
this code has to be added.</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre8" DIR="LTR" STYLE="float: left; width: 14.98cm; height: 9.15cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_783765cb.png" NAME="Image9" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	9: Modify the mwe2 file to setup &ldquo;UMLPackage&rdquo; and
	&ldquo;GenModelPackage&rdquo;</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western">Then, add a hint for the model
		generation to EcoreGeneratorFragment fragment (Figure 10). So the
		generator can use the UML2 API. 
		</P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre11" DIR="LTR" STYLE="float: left; width: 15.09cm; height: 14.61cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m6d9d6d6e.png" NAME="Image10" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	10: Adding a hint for the model generation to EcoreGeneratorFragment
	</B>
	</P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western">Finally you have to change the
		scoping and exporting part in the mwe2 file, following the code
		below:</P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre13" DIR="LTR" STYLE="float: left; width: 15.68cm; height: 5.1cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">	</FONT><FONT COLOR="#3f7f5f"><FONT SIZE=2 STYLE="font-size: 9pt">//
	scoping and exporting API</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#0000c0">fragment</FONT><FONT COLOR="#000000">
	= scoping.ImportURIScopingFragment {}</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#0000c0">fragment</FONT><FONT COLOR="#000000">
	= exporting.SimpleNamesFragment {}</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#3f7f5f">//
	scoping and exporting API </FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt"><FONT COLOR="#000000">			</FONT><FONT COLOR="#3f7f5f">/*fragment
	= scoping.ImportNamespacesScopingFragment {}</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT COLOR="#3f7f5f"><FONT FACE="Courier New, monospace"><FONT SIZE=2 STYLE="font-size: 9pt">			fragment
	= exporting.QualifiedNamesFragment {} */</FONT></FONT></FONT></P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<OL START=4>
	<LI><H1 LANG="en-US" CLASS="western"><A NAME="4.Build your own grammar|outline"></A>
	Build your own grammar</H1>
</OL>
<P LANG="en-US" CLASS="western">Many tutorials on the web can help
you to create your grammar [1, 2].</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Important
note: Avoid the usage of <I>terminal</I> rules if one part of the
regular expression is semantically relevant (e.g., in our example,
the rule SequenceTermRule could be fully captured by a simple regular
expression). In order to ease the usage of semantically relevant
information (e.g., in our exemple, the property sequencialorder or
rule SequenceTermRule), you should use data type rules or parser
rules. In the example below,  we show the grammar of the UMLMessage
label.</FONT></FONT></P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre17" DIR="LTR" STYLE="float: left; width: 14.29cm; height: 17.51cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#7f0055"><B>grammar</B></FONT><FONT COLOR="#000000">
	org.eclipse.papyrus.message.editor.xtext.UmlMessage </FONT><FONT COLOR="#7f0055"><B>with</B></FONT><FONT COLOR="#000000">
	org.eclipse.xtext.common.Terminals </FONT>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#7f0055"><B>import</B></FONT><FONT COLOR="#000000">
	</FONT><FONT COLOR="#2a00ff">&quot;http://www.eclipse.org/uml2/3.0.0/UML&quot;</FONT><FONT COLOR="#000000">
	</FONT><FONT COLOR="#7f0055"><B>as</B></FONT><FONT COLOR="#000000">
	uml</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#7f0055"><B>generate</B></FONT><FONT COLOR="#000000">
	umlMessage
	</FONT><FONT COLOR="#2a00ff">&quot;http://www.eclipse.org/papyrus/message/editor/xtext/UmlMessage&quot;</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>MessageRule:
	</FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>sequenceTerm
	+= SequenceTermRule </FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">(</FONT><FONT COLOR="#2a00ff">'.'</FONT><FONT COLOR="#000000">
	sequenceTerm += SequenceTermRule)*</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western">':'</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>name
	= nameRule</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>;</FONT></FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>SequenceTermRule
	:</FONT></FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">sequencialOrder
	= INT </FONT><FONT COLOR="#3f7f5f">//represents the sequential order
	of the Message within the next higher level of procedural calling</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">(sequenceName
	= ID)? </FONT><FONT COLOR="#3f7f5f">// represents a concurrent
	thread of control. Messages that differ in the final name are
	concurrent at that level of nesting</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">(recurrence
	= RecurrenceRule)? </FONT><FONT COLOR="#3f7f5f">// The recurrence
	represents conditional or iterative execution.</FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>;</FONT></FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#7f0055"><B>terminal</B></FONT><FONT COLOR="#000000">
	nameRule:</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000">(</FONT><FONT COLOR="#2a00ff">'a'</FONT><FONT COLOR="#000000">..</FONT><FONT COLOR="#2a00ff">'z'</FONT><FONT COLOR="#000000">|</FONT><FONT COLOR="#2a00ff">'A'</FONT><FONT COLOR="#000000">..</FONT><FONT COLOR="#2a00ff">'Z'</FONT><FONT COLOR="#000000">)
	(</FONT><FONT COLOR="#2a00ff">'a'</FONT><FONT COLOR="#000000">..</FONT><FONT COLOR="#2a00ff">'z'</FONT><FONT COLOR="#000000">|</FONT><FONT COLOR="#2a00ff">'A'</FONT><FONT COLOR="#000000">..</FONT><FONT COLOR="#2a00ff">'Z'</FONT><FONT COLOR="#000000">|</FONT><FONT COLOR="#2a00ff">'_'</FONT><FONT COLOR="#000000">|</FONT><FONT COLOR="#2a00ff">'-'</FONT><FONT COLOR="#000000">|</FONT><FONT COLOR="#2a00ff">'0'</FONT><FONT COLOR="#000000">..</FONT><FONT COLOR="#2a00ff">'9'</FONT><FONT COLOR="#000000">)*;</FONT></P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#0000c0">RecurrenceRule</FONT><FONT COLOR="#000000">
	: </FONT>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>(</FONT></FONT></FONT><FONT COLOR="#2a00ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>'*'</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	</FONT></FONT></FONT><FONT COLOR="#2a00ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>'['</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	STRING </FONT></FONT></FONT><FONT COLOR="#2a00ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>']'</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>)|(</FONT></FONT></FONT><FONT COLOR="#2a00ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>'['</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>
	STRING </FONT></FONT></FONT><FONT COLOR="#2a00ff"><FONT FACE="Courier New, monospace"><FONT SIZE=2>']'</FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Courier New, monospace"><FONT SIZE=2>)
	;</FONT></FONT></FONT></P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Once
you have created your grammar, you can :</FONT></FONT></P>
<OL>
	<LI><P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">g</FONT></FONT><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">enerate
	language artifacts: Save the grammar and make sure that no error
	markers appear. Then, locate the file GenerateUMLMessage.mwe next to
	the grammar file in the package explorer view. From its context
	menu, choose </FONT></FONT></FONT><EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Run
	As -&gt; MWE Workflow</FONT></FONT></FONT></EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">.
	That will </FONT></FONT></FONT><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">trigger
	the Xtext language generator. You will see its logging messages in
	the Console view. </FONT></FONT></FONT>
	</P>
	<LI><P LANG="en-US" CLASS="western">Run the generated editor: If
	code generation succeeded, right-click on the Xtext project and
	choose <EM>Run As -&gt; Eclipse Application</EM>. This will spawn a
	new Eclipse workbench with your projects as plug-ins installed. In
	the new workbench, create a new project ( <EM>File -&gt; New -&gt;
	Project... -&gt; General -&gt; Project</EM>) and therein a new file
	with the file extension you chose in the beginning. This will open
	the generated entity editor. 
	</P>
</OL>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Once
you have created and tested your grammar, you can go to the next step
which is embedding the XtextEditor inside a pop up Editor.</FONT></FONT></P>
<OL START=5>
	<LI><H1 LANG="en-US" CLASS="western"><A NAME="5.Create your Xtext pop up editor |outline"></A>
	Create your Xtext pop up editor 
	</H1>
</OL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<OL TYPE=a START=4>
	<LI VALUE=1><P LANG="en-US" CLASS="western">In order to enable the
	encapsulation of the Xtext editor inside a Papyrus diagram, the
	org.eclipse.papyrus.message.editor.xtext.ui plugin has to contribute
	to a papyrus extension point:
	org.eclipse.papyrus.extensionpoints.editors.DirectEditor: 
	</P>
</OL>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT>Select plugin.xml in
		the org.eclipse.papyrus.message.editor.xtext.ui project. Go to
		Dependencies corner, and add a dependency to
		org.eclipse.papyrus.extensionpoints.editors, as shown in Figure 11.</P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT><SPAN ID="Cadre12" DIR="LTR" STYLE="float: left; width: 13.81cm; height: 16.58cm; border: none; padding: 0cm; background: #ffffff">
			<P LANG="en-US" ALIGN=LEFT STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_427e03b1.png" NAME="Image11" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
			11: Adding dependency to 
			org.eclipse.papyrus.extensionpoints.editors</B></P>
		</SPAN><BR CLEAR=LEFT>
		</P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT> 
		</P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT></P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT></P>
		<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT>Go to Extensions
		corner, and add a new extension which is
		org.eclipse.papyrus.extensionpoints.editors.DirectEditor (cf.
		Figure 12).</P>
		<P LANG="en-US" CLASS="western" ALIGN=LEFT><SPAN ID="Cadre14" DIR="LTR" STYLE="float: left; width: 13.23cm; height: 18.18cm; border: none; padding: 0cm; background: #ffffff">
			<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m2a0df40c.png" NAME="Image12" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
			12: Add new extension</B></P>
		</SPAN><BR CLEAR=LEFT>
		</P>
	</UL>
</OL>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT>Edit this extension
		by: <I>(cf. Figure 13)</I></P>
	</UL>
</OL>
<OL TYPE=a START=4>
	<UL>
		<UL>
			<LI VALUE=1><P LANG="en-US" CLASS="western" ALIGN=LEFT>Setting the
			language name (e.g., <I>Advanced message editor)</I> 
			</P>
			<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT>Setting the kind of
			element to edit (in this example, <I>org.eclipse.uml2.uml.Message)</I></P>
		</UL>
	</UL>
</OL>
<OL TYPE=a START=4>
	<UL>
		<UL>
			<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT>Setting the
			contributer (here, <I>CEA List)</I></P>
		</UL>
	</UL>
</OL>
<P LANG="en-US" CLASS="western" ALIGN=LEFT><SPAN ID="Cadre15" DIR="LTR" STYLE="float: left; width: 15.22cm; height: 7.38cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_66a22042.png" NAME="Image13" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	13: Editing the extension details</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<OL TYPE=a START=4>
	<UL>
		<LI><P LANG="en-US" CLASS="western" ALIGN=LEFT STYLE="font-style: normal">
		Select the previously created extension
		org.eclipse.uml2.uml.Message (DirectEditor), right click on and
		choose <I>&ldquo;New popup editor&rdquo;</I>. In the extension
		Element Details corner, select <I>'editor configuration', </I>and
		set the name of the package and the class as shown in Figure 14.
		Before that, you are supposed to create the package
		org.eclipse.papyrus.message.editor.xtext.ui.contributions in the
		src folder of the project
		org.eclipse.papyrus.message.editor.xtext.ui .</P>
	</UL>
</OL>
<P LANG="en-US" CLASS="western" ALIGN=LEFT STYLE="font-style: normal">
<SPAN ID="Cadre16" DIR="LTR" STYLE="float: left; width: 9.45cm; height: 10.63cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" STYLE="margin-top: 0.21cm"><IMG SRC="./PapyrusDevelopperTutorial_OnXtext_v0%206_d2011-01-10_html_m1129831d.png" NAME="Image14" ALIGN=LEFT WIDTH=100% BORDER=0><BR CLEAR=LEFT><B>Figure
	14: Set the editor configuration</B></P>
</SPAN><BR CLEAR=LEFT><BR><BR>
</P>
<P LANG="en-US" CLASS="western" ALIGN=LEFT STYLE="font-style: normal">
<BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">The
created class </FONT></FONT><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>MessagePopupEditor,</I></FONT></FONT><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">
have to extend</FONT></FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2>
</FONT></FONT><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>org.eclipse.xtext.gmf.glue.PopupEditorConfiguration</I></FONT></FONT><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">
class</FONT></FONT><FONT FACE="Courier New, monospace"><FONT SIZE=2>.
</FONT></FONT>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">The
latter class is provided in the <FONT FACE="Courier New, monospace"><FONT SIZE=2>org.eclipse.xtext.gmf.glue
plug-in</FONT></FONT>.  </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">The
two methods that you have to customize inside the
MessagePopupEditorConfigurationContribution class are:</FONT></FONT></P>
<UL>
	<LI><P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>getTextToEdit</I>:
	this method returns the string that will be edited inside the popup
	editor. </FONT></FONT>
	</P>
	<LI><P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>createPopupEditorHelper</I>:
	this method is responsible for displaying the Xtext popup editor...</FONT></FONT></P>
</UL>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Some
other classes have to be created in the src folder of  the
<SPAN STYLE="font-style: normal">org.eclipse.papyrus.message.editor.xtext.ui
and org.eclipse.papyrus.message.editor.xtext projects:</SPAN></FONT></FONT></P>
<UL>
	<LI VALUE=1><P LANG="en-US" CLASS="western" STYLE="font-style: normal">
	<FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">org.eclipse.papyrus.state.editor.xtext.ui.editor.ContextEditorUtil:
	this class is responsible for saving the context of the current
	editor</FONT></FONT></P>
	<LI><P LANG="en-US" CLASS="western"><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">org.eclipse.papyrus.message.editor.xtext.scoping.UmlMessageScopeProvider:
	this class is responsible  for providing an Iscope for a given
	context </SPAN></FONT></FONT></FONT><EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">EObject</SPAN></FONT></FONT></FONT></EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">
	and </SPAN></FONT></FONT></FONT><EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">EReference</SPAN></FONT></FONT></FONT></EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">.
	The returned </SPAN></FONT></FONT></FONT><EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">IScope</SPAN></FONT></FONT></FONT></EM><FONT COLOR="#000000"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><SPAN STYLE="font-style: normal">
	should contain all target candidates for the given object and
	cross-reference. </SPAN></FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" STYLE="font-style: normal"></P>
</UL>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<OL>
	<LI VALUE=6><H1 LANG="en-US" CLASS="western" STYLE="font-style: normal">
	<FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Code
	enhancements</FONT></FONT></H1>
</OL>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">A
new Xtext project has been created in order to regroup common code.</FONT></FONT></P>
<UL>
	<UL>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">org.eclipse.papyrus.common.editor.xtext</FONT></FONT></P>
	</UL>
</UL>
<UL>
	<UL>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">org.eclipse.papyrus.common.editor.xtext.generator</FONT></FONT></P>
	</UL>
</UL>
<UL>
	<UL>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">org.eclipse.papyrus.common.editor.xtext.ui</FONT></FONT></P>
		<P LANG="en-US" CLASS="western" STYLE="font-style: normal"></P>
	</UL>
</UL>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><U><B>org.eclipse.papyrus.common.editor.xtext</B></U></P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">This
plugin provides grammar for : </FONT></FONT>
</P>
<UL>
	<UL>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">QualifiedName</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Direction</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">VisibilityKind</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">MultiplicityRule</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">BoundsSpecification</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">UnlimitedNatural</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">TypeRule</FONT></FONT></P>
	</UL>
</UL>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">To
use it : </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">	1/
in the file plugin.xml of your plugin editor.xtext, adds the
dependency to <I>org.eclipse.papyrus.common.editor.xtext</I></FONT></FONT></P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">	2/
in your grammar file replaces </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><SPAN ID="Cadre19" DIR="LTR" STYLE="float: left; width: 14.29cm; height: 1.15cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><FONT COLOR="#7f0055"><B>grammar</B></FONT><FONT COLOR="#000000">
	org.eclipse.papyrus.myelement.editor.xtext.UmlMessage </FONT><FONT COLOR="#7f0055"><B>with</B></FONT><FONT COLOR="#000000">
	org.eclipse.xtext.common.Terminals </FONT>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">by</FONT></FONT></P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre20" DIR="LTR" STYLE="float: left; width: 14.29cm; height: 1.15cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#7f0055"><B>grammar</B></FONT><FONT COLOR="#000000"><B>
	org.eclipse.papyrus.parameter.editor.xtext.UmlParameter </B></FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT COLOR="#3f7f5f"><FONT FACE="Courier New, monospace"><FONT SIZE=2>//with
	org.eclipse.xtext.common.Terminals</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#7f0055"><U><B>with</B></U></FONT><FONT COLOR="#000000"><U>
	org.eclipse.papyrus.common.editor.xtext.UmlCommon</U></FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><BR><BR>
	</P>
	<P LANG="en-US" CLASS="contenu-du-cadre-western"><BR><BR>
	</P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt"><I>	3/
In the GenerateUmlElement.mwe2, replace the following line :</I></FONT></FONT></P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre21" DIR="LTR" STYLE="float: left; width: 14.29cm; height: 1.15cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="western"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>	<FONT COLOR="#3f7f5f">//
	generates Java API for the generated EPackages </FONT></B></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#000000">	</FONT><FONT COLOR="#0000c0">fragment</FONT><FONT COLOR="#000000">
	= ecore.EcoreGeneratorFragment {</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#000000">			</FONT><FONT COLOR="#0000c0">referencedGenModels</FONT><FONT COLOR="#000000">
	=
	</FONT><FONT COLOR="#2a00ff">&quot;platform:/resource/org.eclipse.papyrus.myelement.editor.xtext/model/UML.genmodel&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>}</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><BR><BR>
	</P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">by
: </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western"><SPAN ID="Cadre22" DIR="LTR" STYLE="float: left; width: 14.29cm; height: 1.15cm; border: none; padding: 0cm; background: #ffffff">
	<P LANG="en-US" CLASS="western"><FONT COLOR="#3f7f5f"><FONT FACE="Courier New, monospace"><FONT SIZE=2><B>//
	generates Java API for the generated EPackages </B></FONT></FONT></FONT>
	</P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#000000">	</FONT><FONT COLOR="#0000c0">fragment</FONT><FONT COLOR="#000000">
	= ecore.EcoreGeneratorFragment {</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000c0">referencedGenModels</FONT><FONT COLOR="#000000">
	=
	</FONT><FONT COLOR="#2a00ff">&quot;platform:/resource/org.eclipse.papyrus.myelement.editor.xtext/model/UML.genmodel&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>			</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2><FONT COLOR="#0000c0">referencedGenModels</FONT><FONT COLOR="#000000">
	=
	</FONT><FONT COLOR="#2a00ff">&quot;platform:/resource/org.eclipse.papyrus.common.editor.xtext/src-gen/org/eclipse/papyrus/common/editor/xtext/UMLCommon.genmodel&quot;</FONT></FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>			</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><FONT FACE="Courier New, monospace"><FONT SIZE=2>			}</FONT></FONT></P>
	<P LANG="en-US" CLASS="western" ALIGN=LEFT><BR><BR>
	</P>
</SPAN><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">This
plugin provides some classes which can be extended in the other Xtext
plugin :</FONT></FONT></P>
<UL>
	<UL>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">UmlCommonJavaValidator</FONT></FONT></P>
		<LI><P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">UmlCommonScopeProvider
		(methods to naviagate in Namespace)</FONT></FONT></P>
	</UL>
</UL>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><U><B>org.eclipse.papyrus.common.editor.xtext.generator</B></U></P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">Not
used. </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western"><U><B>org.editor.papyrus.common.editor.xtext.ui</B></U></P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">In
the project org.eclipse.papyrus.myelement.editor.xtext.ui adds the
dependency to org.editor.papyrus.common.editor.xtext.ui.</FONT></FONT></P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><BR><BR>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">This
plugin provides some classes which can be extended in other Xtext
plugin : </FONT></FONT>
</P>
<P LANG="en-US" CLASS="western" STYLE="font-style: normal"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">	-
UmlCommonProposalProvider</FONT></FONT></P>
<OL START=6>
	<LI><H1 LANG="en-US" CLASS="western"><A NAME="6.References|outline"></A>
	References</H1>
</OL>
<P LANG="en-US" CLASS="western">[1] Xtext tutorial,
<A HREF="http://www.eclipse.org/Xtext/documentation/latest/xtext.html#getting-started">http://www.eclipse.org/Xtext/documentation/latest/xtext.html#getting-started</A></P>
<P LANG="en-US" CLASS="western">[2] Xtext Reference document, 
<A HREF="http://www.eclipse.org/Xtext/documentation/0_7_2/xtext.pdf"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 11pt">http://www.eclipse.org/Xtext/documentation/0_7_2/xtext.pdf,</FONT></FONT></A>2009</P>
<DIV TYPE=FOOTER>
	<P LANG="en-US" CLASS="western" STYLE="margin-top: 1.15cm">&#61667;
	<FONT SIZE=2 STYLE="font-size: 9pt"><SPAN LANG="zxx"><I>2010 The
	Papyrus Consortium 	</I></SPAN></FONT><SPAN LANG="zxx"><SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>25</SDFIELD></SPAN><SPAN LANG="zxx">/</SPAN><SPAN LANG="zxx"><SDFIELD TYPE=DOCSTAT SUBTYPE=PAGE FORMAT=ARABIC>25</SDFIELD></SPAN></P>
</DIV>
</BODY>
</HTML>